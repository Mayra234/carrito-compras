(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22114,e=>{e.v({products:[{id:"p01",title:"CÃ¡mara IP 1080p",price:299900,stock:8,image:"/img/camara.webp"},{id:"p02",title:"NVR 8 Canales",price:899900,stock:3,image:"/img/hikvision.png"},{id:"p03",title:"Cable UTP Cat6 305m",price:449900,stock:0,image:"/img/cable.webp"}],shipping:15e3,taxRate:.19})},92552,e=>{"use strict";var s=e.i(11593),t=e.i(74769),a=e.i(22114),i=e.i(74916),l=e.i(1642);let c=({item:e})=>{let t=(0,i.useDispatch)();return(0,s.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,s.jsx)("img",{src:e.image,alt:e.title,width:64,height:64,className:"me-3 rounded"}),(0,s.jsxs)("div",{className:"flex-grow-1",children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsx)("strong",{children:e.title}),(0,s.jsxs)("small",{children:["$",(e.price*e.quantity).toLocaleString()]})]}),(0,s.jsxs)("div",{className:"mt-2 d-flex align-items-center",children:[(0,s.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>t((0,l.updateQuantity)({id:e.id,quantity:e.quantity-1})),"aria-label":`Disminuir ${e.title}`,children:"-"}),(0,s.jsx)("span",{className:"px-2",children:e.quantity}),(0,s.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>t((0,l.updateQuantity)({id:e.id,quantity:e.quantity+1})),"aria-label":`Aumentar ${e.title}`,children:"+"}),(0,s.jsx)("button",{className:"btn btn-sm btn-danger ms-3",onClick:()=>t((0,l.removeFromCart)(e.id)),"aria-label":`Eliminar ${e.title}`,children:"ðŸ—‘"})]}),(0,s.jsxs)("small",{className:"text-muted",children:["Stock: ",e.stock]})]})]})},n=()=>{let{items:e,isOpen:t}=(0,i.useSelector)(e=>e.cart),a=(0,i.useDispatch)(),n=e.reduce((e,s)=>e+s.price*s.quantity,0),r=Math.round(.19*n),d=n+r+15e3*!!e.length;return(0,s.jsxs)("aside",{className:`cart-drawer ${t?"open":""}`,"aria-hidden":!t,children:[(0,s.jsxs)("div",{className:"drawer-header d-flex justify-content-between align-items-center",children:[(0,s.jsx)("h5",{className:"m-0",children:"Carrito"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"btn btn-sm btn-outline-dark me-2",onClick:()=>a((0,l.clearCart)()),children:"Vaciar"}),(0,s.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>a((0,l.toggleCart)()),children:"Cerrar âœ•"})]})]}),(0,s.jsx)("div",{className:"drawer-body p-3",children:0===e.length?(0,s.jsxs)("div",{className:"text-center text-muted my-5",children:[(0,s.jsx)("p",{className:"mb-3",children:"Tu carrito estÃ¡ vacÃ­o."}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>a((0,l.toggleCart)()),children:"Seguir comprando"})]}):(0,s.jsxs)("div",{children:[e.map(e=>(0,s.jsx)(c,{item:e},e.id)),(0,s.jsx)("hr",{}),(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsx)("small",{children:"Subtotal"}),(0,s.jsxs)("strong",{children:["$",n.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsx)("small",{children:"Impuestos (19%)"}),(0,s.jsxs)("small",{children:["$",r.toLocaleString()]})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsx)("small",{children:"EnvÃ­o"}),(0,s.jsxs)("small",{children:["$",e.length?15e3.toLocaleString():0]})]}),(0,s.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[(0,s.jsx)("h6",{children:"Total"}),(0,s.jsxs)("h6",{children:["$",d.toLocaleString()]})]}),(0,s.jsx)("button",{className:"btn btn-success w-100 mt-3",children:"Finalizar compra"})]})})]})},r=()=>{let e=(0,i.useDispatch)(),t=(0,i.useSelector)(e=>e.cart.items).reduce((e,s)=>e+s.quantity,0);return(0,s.jsxs)("button",{className:"floating-cart-btn","aria-label":`Abrir carrito, ${t} items`,onClick:()=>e((0,l.toggleCart)()),children:[(0,s.jsx)("img",{className:"cart-emoji",src:"img/carro.png",alt:"Icon de compra",width:30}),t>0&&(0,s.jsx)("span",{className:"cart-badge",children:t})]})},d=()=>(0,s.jsx)("header",{className:"bg-dark text-white py-3",children:(0,s.jsxs)("div",{className:"container d-flex justify-content-between align-items-center",children:[(0,s.jsx)("h5",{className:"m-0",children:"Mi Tienda"}),(0,s.jsx)("div",{className:"d-none d-md-block",children:"Explora nuestros productos"})]})}),o=({product:e})=>{let t=(0,i.useDispatch)();return(0,s.jsxs)("div",{className:"card h-100 shadow-sm product-card",children:[(0,s.jsx)("div",{className:"ratio ratio-4x3 p-3",children:(0,s.jsx)("img",{src:e.image,alt:e.title,className:"img-fluid rounded mx-auto d-block",style:{objectFit:"contain"}})}),(0,s.jsxs)("div",{className:"card-body d-flex flex-column",children:[(0,s.jsx)("h6",{className:"card-title",children:e.title}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsxs)("strong",{children:["$",e.price.toLocaleString()]})}),e.stock>0?(0,s.jsxs)("span",{className:"badge bg-success mb-3",children:["Stock: ",e.stock]}):(0,s.jsx)("span",{className:"badge bg-danger mb-3",children:"Agotado"}),(0,s.jsx)("button",{className:"btn btn-dark mt-auto",disabled:0===e.stock,onClick:()=>t((0,l.addToCart)(e)),"aria-label":`Agregar ${e.title} al carrito`,children:"Agregar al carrito"})]})]})};function m(){let[e]=(0,t.useState)(a.default.products);return(0,s.jsxs)("div",{children:[(0,s.jsx)(d,{}),(0,s.jsxs)("main",{className:"container py-5",children:[(0,s.jsx)("h1",{className:"mb-4 text-center",children:"Tienda de Seguridad"}),(0,s.jsx)("div",{className:"row",children:e.map(e=>(0,s.jsx)("div",{className:"col-12 col-sm-6 col-lg-4 mb-4",children:(0,s.jsx)(o,{product:e})},e.id))})]}),(0,s.jsx)(n,{}),(0,s.jsx)(r,{})]})}e.s(["default",()=>m],92552)}]);